.TH "/home/runner/work/PEPITAS-Cryptocurrency/PEPITAS-Cryptocurrency/headers/cryptosystem/signature.h" 3 "Sat Apr 17 2021" "PEPITAS CRYPTOCURRENCY" \" -*- nroff -*-
.ad l
.nh
.SH NAME
/home/runner/work/PEPITAS-Cryptocurrency/PEPITAS-Cryptocurrency/headers/cryptosystem/signature.h
.SH SYNOPSIS
.br
.PP
\fC#include <stdlib\&.h>\fP
.br
\fC#include <err\&.h>\fP
.br
\fC#include <string\&.h>\fP
.br
\fC#include <openssl/crypto\&.h>\fP
.br
\fC#include <openssl/ssl3\&.h>\fP
.br
\fC#include <openssl/rsa\&.h>\fP
.br
\fC#include <openssl/err\&.h>\fP
.br
\fC#include 'core/blockchain/wallet\&.h'\fP
.br
\fC#include 'core/blockchain/block\&.h'\fP
.br

.SS "Functions"

.in +1c
.ti -1c
.RI "char * \fBsign_message\fP (char *data, size_t len_data, size_t *signature_len)"
.br
.RI "encrypt(SHA284(msg,len_data),priv_key) "
.ti -1c
.RI "int \fBverify_signature\fP (void *data, size_t data_len, char *signature, size_t signature_len, RSA *pub_key)"
.br
.RI "Apply the SHA384 algorithm on a 'data' of size 'len_data' and verifies if SHA384(data, len_data) == 'signature'\&. "
.ti -1c
.RI "int \fBverify_block_signature\fP (\fBBlock\fP block)"
.br
.RI "Verifies if a block signature is valid\&. "
.ti -1c
.RI "int \fBverify_transaction_signature\fP (\fBTransaction\fP transaction)"
.br
.RI "Verifies if a transaction signature is valid\&. "
.ti -1c
.RI "void \fBget_transaction_data\fP (\fBTransaction\fP *trans, char **buff, size_t *size)"
.br
.RI "Convert transactions to char * buffer\&. "
.ti -1c
.RI "char * \fBget_blockdata_data\fP (\fBBlock\fP *block, size_t *size)"
.br
.RI "Get the blockdata data object\&. "
.ti -1c
.RI "void \fBwrite_blockdata\fP (\fBBlockData\fP blockdata, int fd)"
.br
.RI "Writes blockdata in a file\&. "
.ti -1c
.RI "void \fBwrite_block\fP (\fBBlock\fP block, int fd)"
.br
.RI "Writes a block in a file\&. "
.ti -1c
.RI "void \fBsign_block\fP (\fBBlock\fP *block)"
.br
.RI "Signs a block\&. "
.ti -1c
.RI "void \fBsign_transaction\fP (\fBTransaction\fP *transaction)"
.br
.RI "Sign a transaction\&. "
.ti -1c
.RI "void \fBsign_block_transactions\fP (\fBBlock\fP *block)"
.br
.RI "Signs transactions of a block\&. "
.in -1c
.SH "Function Documentation"
.PP 
.SS "char* get_blockdata_data (\fBBlock\fP * block, size_t * size)"

.PP
Get the blockdata data object\&. 
.PP
\fBParameters\fP
.RS 4
\fIblock\fP The block 
.br
\fIsize\fP The size of the block 
.RE
.PP
\fBReturns\fP
.RS 4
char* 
.RE
.PP

.PP
Definition at line 144 of file signature\&.c\&.
.SS "void get_transaction_data (\fBTransaction\fP * trans, char ** buff, size_t * size)"

.PP
Convert transactions to char * buffer\&. 
.PP
\fBParameters\fP
.RS 4
\fItransactions\fP The transaction array 
.br
\fIbuff\fP The buffer that receives the transactions 
.br
\fIsize\fP The number of transactions in the array
.RE
.PP
\fBReturns\fP
.RS 4
The buffer allocated (Must be freed) 
.RE
.PP

.PP
Definition at line 93 of file signature\&.c\&.
.SS "void sign_block (\fBBlock\fP * block)"

.PP
Signs a block\&. 
.PP
\fBParameters\fP
.RS 4
\fIblock\fP The block to sign 
.RE
.PP

.PP
Definition at line 233 of file signature\&.c\&.
.SS "void sign_block_transactions (\fBBlock\fP * block)"

.PP
Signs transactions of a block\&. 
.PP
\fBParameters\fP
.RS 4
\fIblock\fP The block to sign 
.RE
.PP

.PP
Definition at line 258 of file signature\&.c\&.
.SS "char* sign_message (char * data, size_t len_data, size_t * signature_len)"

.PP
encrypt(SHA284(msg,len_data),priv_key) 
.PP
\fBParameters\fP
.RS 4
\fIdata\fP The data to sign 
.br
\fIlen_data\fP The length of the data 
.br
\fIsignature_len\fP The length of the data signature 
.RE
.PP
\fBReturns\fP
.RS 4
char* 
.RE
.PP

.PP
Definition at line 10 of file signature\&.c\&.
.SS "void sign_transaction (\fBTransaction\fP * transaction)"

.PP
Sign a transaction\&. 
.PP
\fBParameters\fP
.RS 4
\fItransaction\fP The transaction to sign 
.RE
.PP

.PP
Definition at line 245 of file signature\&.c\&.
.SS "int verify_block_signature (\fBBlock\fP block)"

.PP
Verifies if a block signature is valid\&. 
.PP
\fBParameters\fP
.RS 4
\fIblock\fP The block to verify 
.RE
.PP
\fBReturns\fP
.RS 4
1 if valid, 0 otherwise 
.br
 
.RE
.PP

.PP
Definition at line 206 of file signature\&.c\&.
.SS "int verify_signature (void * data, size_t data_len, char * signature, size_t signature_len, RSA * pub_key)"

.PP
Apply the SHA384 algorithm on a 'data' of size 'len_data' and verifies if SHA384(data, len_data) == 'signature'\&. 
.PP
\fBParameters\fP
.RS 4
\fIdata\fP The buffer to verify 
.br
\fIdata_len\fP The length of the buffer 
.br
\fIsignature\fP The signature to compare with SHA384(data, len_data) 
.br
\fIsignature_len\fP The length of the signature 
.br
\fIpub_key\fP The RSA public key used for the decryption 
.RE
.PP
\fBReturns\fP
.RS 4
int 
.RE
.PP

.PP
Definition at line 31 of file signature\&.c\&.
.SS "int verify_transaction_signature (\fBTransaction\fP transaction)"

.PP
Verifies if a transaction signature is valid\&. 
.PP
\fBParameters\fP
.RS 4
\fItransaction\fP The transaction to verify 
.RE
.PP
\fBReturns\fP
.RS 4
1 if valid, 0 otherwise 
.br
 
.RE
.PP

.PP
Definition at line 219 of file signature\&.c\&.
.SS "void write_block (\fBBlock\fP block, int fd)"

.PP
Writes a block in a file\&. 
.PP
\fBParameters\fP
.RS 4
\fIblock\fP The block to write 
.br
\fIfd\fP the file descriptor of the file in which the block is written 
.RE
.PP

.PP
Definition at line 199 of file signature\&.c\&.
.SS "void write_blockdata (\fBBlockData\fP blockdata, int fd)"

.PP
Writes blockdata in a file\&. 
.PP
\fBParameters\fP
.RS 4
\fIblockdata\fP The blockdata to write 
.br
\fIfd\fP The file descriptor of the file in which the blockdata is written 
.RE
.PP

.PP
Definition at line 174 of file signature\&.c\&.
.SH "Author"
.PP 
Generated automatically by Doxygen for PEPITAS CRYPTOCURRENCY from the source code\&.
